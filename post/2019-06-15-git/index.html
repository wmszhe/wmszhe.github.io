<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="wmszhe">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://blog.weandri.com//img/home-bg.jpg">
    <meta property="twitter:image" content="https://blog.weandri.com//img/home-bg.jpg" />
    

    
    <meta name="title" content="Git" />
    <meta property="og:title" content="Git" />
    <meta property="twitter:title" content="Git" />
    

    
    <meta name="description" content="Hello EveryOne ğŸ˜˜">
    <meta property="og:description" content="Hello EveryOne ğŸ˜˜" />
    <meta property="twitter:description" content="Hello EveryOne ğŸ˜˜" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Git-Blog</title>

    <link rel="canonical" href="/post/2019-06-15-git/">

    <link rel="stylesheet" href="/css/iDisqus.min.css"/>

    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    

</head>



<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">wmszhe</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                        
                    
                    
		    
                        <li><a href="/about/">ABOUT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png')
    }
</style>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/git" title="Git">
                            Git
                        </a>
                        
                    </div>
                    <h1>Git</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by 
                        
                            Â  Â   &#39;&#39;
                         
                        on 
                        Saturday, June 15, 2019
                        
                        
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                post-container">

                
                <header>
                    <h2>TOC</h2>
                </header>
                <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#ssh">SSH</a></li>
        <li><a href="#è®¾ç½®gitå…¨å±€è®¾ç½®">è®¾ç½®gitå…¨å±€è®¾ç½®ï¼š</a></li>
        <li><a href="#éœ€è¦å–æ¶ˆgitçš„å…¨å±€è®¾ç½®">éœ€è¦å–æ¶ˆgitçš„å…¨å±€è®¾ç½®:</a></li>
        <li><a href="#é’ˆå¯¹æ¯ä¸ªé¡¹ç›®å•ç‹¬è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±è®¾ç½®æ–¹æ³•å¦‚ä¸‹">é’ˆå¯¹æ¯ä¸ªé¡¹ç›®ï¼Œå•ç‹¬è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</a></li>
        <li><a href="#æµ‹è¯•è¿æ¥">æµ‹è¯•è¿æ¥</a></li>
        <li><a href="#gitignoreæ— æ•ˆçš„è§£å†³æ–¹æ³•">.gitignoreæ— æ•ˆçš„è§£å†³æ–¹æ³•</a></li>
        <li><a href="#init">init</a></li>
        <li><a href="#initåä¼ è‡³gitä»“åº“">initåä¼ è‡³gitä»“åº“</a></li>
        <li><a href="#æ—¥å¿—">æ—¥å¿—</a></li>
        <li><a href="#clone">clone</a></li>
        <li><a href="#clone---depth">clone &ndash;depth</a></li>
        <li><a href="#å®‰è£…hookç›®çš„æ˜¯åœ¨æäº¤ä¿¡æ¯ä¸­è‡ªåŠ¨åˆ›å»º-change-id-æ ‡ç­¾">å®‰è£…hook,ç›®çš„æ˜¯åœ¨æäº¤ä¿¡æ¯ä¸­è‡ªåŠ¨åˆ›å»º &lsquo;Change-Id:&rsquo; æ ‡ç­¾</a></li>
        <li><a href="#è¿œç¨‹ä»“åº“">è¿œç¨‹ä»“åº“</a></li>
        <li><a href="#æŸ¥çœ‹åˆ†æ”¯">æŸ¥çœ‹åˆ†æ”¯</a></li>
        <li><a href="#åˆ‡æ¢åˆ†æ”¯">åˆ‡æ¢åˆ†æ”¯</a></li>
        <li><a href="#ä»æŸä¸ªç‰ˆæœ¬ä»£ç æ‹‰å–æ–°çš„åˆ†æ”¯">ä»æŸä¸ªç‰ˆæœ¬ä»£ç æ‹‰å–æ–°çš„åˆ†æ”¯</a></li>
        <li><a href="#åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å†å²è®°å½•çš„æ–°åˆ†æ”¯">åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å†å²è®°å½•çš„æ–°åˆ†æ”¯</a></li>
        <li><a href="#ä¿®æ”¹åˆ†æ”¯åç§°">ä¿®æ”¹åˆ†æ”¯åç§°</a></li>
        <li><a href="#æŠŠæ–°å»ºçš„æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹æœåŠ¡å™¨è¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯åŒåå½“ç„¶å¯ä»¥éšæ„èµ·å">æŠŠæ–°å»ºçš„æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œè¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯åŒåï¼ˆå½“ç„¶å¯ä»¥éšæ„èµ·åï¼‰</a></li>
        <li><a href="#pushæ‰€æœ‰åˆ†æ”¯">pushæ‰€æœ‰åˆ†æ”¯</a></li>
        <li><a href="#æ›´æ–°åˆ†æ”¯ä¿¡æ¯">æ›´æ–°åˆ†æ”¯ä¿¡æ¯</a></li>
        <li><a href="#åˆ é™¤åˆ†æ”¯">åˆ é™¤åˆ†æ”¯</a></li>
        <li><a href="#åˆ é™¤è¿œç¨‹åˆ†æ”¯">åˆ é™¤è¿œç¨‹åˆ†æ”¯</a></li>
        <li><a href="#æ¢å¤åˆ é™¤çš„åˆ†æ”¯">æ¢å¤åˆ é™¤çš„åˆ†æ”¯</a></li>
        <li><a href="#æŸ¥çœ‹tag">æŸ¥çœ‹tag</a></li>
        <li><a href="#æŸ¥çœ‹tagè¯¦ç»†ä¿¡æ¯">æŸ¥çœ‹tagè¯¦ç»†ä¿¡æ¯</a></li>
        <li><a href="#æ·»åŠ tag">æ·»åŠ tag</a></li>
        <li><a href="#æ·»åŠ å¸¦å¤‡æ³¨çš„tag">æ·»åŠ å¸¦å¤‡æ³¨çš„tag</a></li>
        <li><a href="#ç»™æŒ‡å®šçš„æŸä¸ªcommitå·åŠ tag">ç»™æŒ‡å®šçš„æŸä¸ªcommitå·åŠ tag</a></li>
        <li><a href="#å°†tagåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨">å°†tagåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨</a></li>
        <li><a href="#åˆ‡æ¢tag">åˆ‡æ¢tag</a></li>
        <li><a href="#è·å–è¿œç¨‹ç‰ˆæœ¬">è·å–è¿œç¨‹ç‰ˆæœ¬</a></li>
        <li><a href="#åˆ é™¤æœ¬åœ°tag">åˆ é™¤æœ¬åœ°tag</a></li>
        <li><a href="#åˆ é™¤è¿œç«¯tag">åˆ é™¤è¿œç«¯tag</a></li>
        <li><a href="#æŸ¥çœ‹çŠ¶æ€">æŸ¥çœ‹çŠ¶æ€</a></li>
        <li><a href="#commit">commit</a></li>
        <li><a href="#ä¿®æ”¹commit">ä¿®æ”¹commit</a></li>
        <li><a href="#pull">pull</a></li>
        <li><a href="#push">push</a></li>
        <li><a href="#å›é€€git">å›é€€git</a></li>
        <li><a href="#è¿œç¨‹ç‰ˆæœ¬å›é€€">è¿œç¨‹ç‰ˆæœ¬å›é€€</a></li>
        <li><a href="#gitå›é€€åˆ°æŸä¸€å†å²ç‰ˆæœ¬åå†æ¢å¤åˆ°ä¹‹å‰ç‰ˆæœ¬">gitå›é€€åˆ°æŸä¸€å†å²ç‰ˆæœ¬åå†æ¢å¤åˆ°ä¹‹å‰ç‰ˆæœ¬</a></li>
        <li><a href="#your-branch-is-behind-originwz-jr-by-1-commit-and-can-be-fast-forwarded">Your branch is behind &lsquo;origin/wz-jr&rsquo; by 1 commit, and can be fast-forwarded.</a></li>
        <li><a href="#æ’¤é”€ä¿®æ”¹">æ’¤é”€ä¿®æ”¹</a></li>
        <li><a href="#å›é€€æŒ‡å®šæ–‡ä»¶åˆ°æŒ‡å®šç‰ˆæœ¬">å›é€€æŒ‡å®šæ–‡ä»¶åˆ°æŒ‡å®šç‰ˆæœ¬</a></li>
        <li><a href="#é‡æ–°æäº¤-amend">é‡æ–°æäº¤ amend</a></li>
        <li><a href="#æš‚å­˜æ¢å¤-stash">æš‚å­˜/æ¢å¤ stash</a></li>
        <li><a href="#cherry-pick">cherry-pick</a></li>
        <li><a href="#revert">revert</a></li>
        <li><a href="#fetchrebase">fetch/rebase</a></li>
        <li><a href="#å–æ¶ˆæœ¬æ¬¡rebase">å–æ¶ˆæœ¬æ¬¡rebase</a></li>
        <li><a href="#git-bisect-æŸ¥æ‰¾å“ªä¸€æ¬¡ä»£ç æäº¤å¼•å…¥äº†é”™è¯¯">git bisect æŸ¥æ‰¾å“ªä¸€æ¬¡ä»£ç æäº¤å¼•å…¥äº†é”™è¯¯</a></li>
      </ul>
    </li>
  </ul>
</nav>
                
                <p>Gitç›¸å…³,å¸¸ç”¨Gitå‘½ä»¤&hellip;</p>
<h3 id="ssh">SSH</h3>
<pre><code>1. ç”ŸæˆSSHç§˜é’¥ï¼Œç§˜é’¥åå­—æœ€å¥½ä¾¿äºè¯†åˆ«ï¼Œä¾‹å¦‚ç”¨è‡ªå·±çš„åå­—,[keyname]=name
    ssh-keygen -f ~/.ssh/[keyname]
2. æŸ¥çœ‹å…¬é’¥ä¿¡æ¯
    cat ~/.ssh/[keyname].pub
3. å°†å…¬é’¥ä¿¡æ¯ç²˜è´´åˆ°gerritä¸Šï¼Œæ‰“å¼€gerritç‚¹å‡»å³ä¸Šè§’çš„ç™»å½•ï¼Œä½¿ç”¨å‘˜å·¥è´¦å·ä¸å¯†ç ç™»å½•ï¼Œç™»å½•åç‚¹å‡»gerritå³ä¸Šè§’ç”¨æˆ·åï¼Œç‚¹å‡»å¼¹å‡ºæ¡†å·¦ä¸‹çš„Settings,é€‰æ‹©å·¦ä¾§çš„SSH Public Keysï¼Œå°†å…¬é’¥ä¿¡æ¯ç²˜è´´è¿›å»ç‚¹å‡»Addã€‚
4. å°†ç§é’¥åŠ åˆ°ssh-agent
    ssh-agent bash
    ssh-add ~/.ssh/[keyname]
5. é…ç½®git
    git config --global user.name [fullname] è¿™ä¸ªåå­—å»ºè®®å†™å…¨å
    git config --global user.email [email]  è¿™ä¸ªemailå¡«å†™ä½ çš„é‚®ç®±
    git config --global color.ui true
    git config --global gui.encoding utf-8

</code></pre><h3 id="è®¾ç½®gitå…¨å±€è®¾ç½®">è®¾ç½®gitå…¨å±€è®¾ç½®ï¼š</h3>
<pre><code>git config --global user.name &quot;your_name&quot; 
git config --global user.email  &quot;your_email&quot;
</code></pre><h3 id="éœ€è¦å–æ¶ˆgitçš„å…¨å±€è®¾ç½®">éœ€è¦å–æ¶ˆgitçš„å…¨å±€è®¾ç½®:</h3>
<pre><code>git config --global --unset user.name
git config --global --unset user.email
</code></pre><h3 id="é’ˆå¯¹æ¯ä¸ªé¡¹ç›®å•ç‹¬è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±è®¾ç½®æ–¹æ³•å¦‚ä¸‹">é’ˆå¯¹æ¯ä¸ªé¡¹ç›®ï¼Œå•ç‹¬è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè®¾ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</h3>
<pre><code>git config user.name &quot;your_name&quot; 
git config user.email &quot;your_email&quot;
</code></pre><h3 id="æµ‹è¯•è¿æ¥">æµ‹è¯•è¿æ¥</h3>
<pre><code>ssh -T git@github.com
ssh -T git@192.168.1.2
</code></pre><h3 id="gitignoreæ— æ•ˆçš„è§£å†³æ–¹æ³•">.gitignoreæ— æ•ˆçš„è§£å†³æ–¹æ³•</h3>
<p>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€git bashï¼Œæ‰§è¡Œ</p>
<pre><code>git rm -r --cached .DS_Store è¿™å¥ä»£ç çš„æ„æ€å°±æ˜¯è§£é™¤è·Ÿè¸ªDS_Storeï¼Œæ¸…ç¼“å­˜
// git rm -r --cached . è§£é™¤è·Ÿè¸ªæ‰€æœ‰æ–‡ä»¶
git add .
git commit -m 'update .gitignore'
</code></pre><h3 id="init">init</h3>
<pre><code>git init
git add .
git commit -m &quot;init&quot;
</code></pre><h3 id="initåä¼ è‡³gitä»“åº“">initåä¼ è‡³gitä»“åº“</h3>
<pre><code>git remote add origin git@github.com:wmszhe/PythonTools.git
git push -u origin master
</code></pre><h3 id="æ—¥å¿—">æ—¥å¿—</h3>
<h5 id="1æŸ¥è¯¢æ—¥å¿—">1.æŸ¥è¯¢æ—¥å¿—</h5>
<pre><code>git log
</code></pre><h5 id="2æŸ¥æŒ‡å®šæ–‡ä»¶çš„æäº¤æ—¥å¿—">2.æŸ¥æŒ‡å®šæ–‡ä»¶çš„æäº¤æ—¥å¿—</h5>
<pre><code>1. æŸ¥çœ‹æ—¥å¿—è®°å½•
git log --pretty=oneline .gitignore

2. ä½¿ç”¨git showæŸ¥çœ‹å…·ä½“æ—¥å¿— --&gt; git show &lt;gitæäº¤ç‰ˆæœ¬å·&gt; &lt;æ–‡ä»¶å&gt;
git show 03bb009eb06b16c62155206b0e5724b532820efd .gitignore
</code></pre><h5 id="3æŸ¥è¯¢æŸä¸ªäººçš„æäº¤æ—¥å¿—">3.æŸ¥è¯¢æŸä¸ªäººçš„æäº¤æ—¥å¿—</h5>
<pre><code>git log --author=&quot;author&quot;
</code></pre><h3 id="clone">clone</h3>
<pre><code>git clone https://github.com/CharonChui/AndroidNote.git __AndroidNote(è‡ªå®šä¹‰çš„æ–‡ä»¶å¤¹å)
git clone ssh://zhe.wang@192.168.0.119:29418/adclient -b gte
</code></pre><h3 id="clone---depth">clone &ndash;depth</h3>
<p>æŒ‡å®šå…‹éš†æ·±åº¦,ä¸º1å³è¡¨ç¤ºåªå…‹éš†æœ€è¿‘ä¸€æ¬¡commit.</p>
<pre><code>git clone xxx --depth 1
</code></pre><p>å¦‚æœæˆ‘ä»¬ä¹‹åè¦æŠŠä¹‹å‰çš„å†å²é‡æ–°å† pull ä¸‹æ¥</p>
<pre><code>// å°†æµ…å…‹éš†è½¬æ¢ä¸ºå®Œæ•´å…‹éš†
git pull --unshallow
git fetch --unshallow
</code></pre><h3 id="å®‰è£…hookç›®çš„æ˜¯åœ¨æäº¤ä¿¡æ¯ä¸­è‡ªåŠ¨åˆ›å»º-change-id-æ ‡ç­¾">å®‰è£…hook,ç›®çš„æ˜¯åœ¨æäº¤ä¿¡æ¯ä¸­è‡ªåŠ¨åˆ›å»º &lsquo;Change-Id:&rsquo; æ ‡ç­¾</h3>
<pre><code>cd adclient
scp -p -P 29418 zhe.wang@192.168.0.119:hooks/commit-msg .git/hooks/
</code></pre><h3 id="è¿œç¨‹ä»“åº“">è¿œç¨‹ä»“åº“</h3>
<blockquote>
<ol>
<li>é€šè¿‡ç»ˆç«¯ä¿®æ”¹</li>
</ol>
</blockquote>
<h4 id="æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€">æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</h4>
<pre><code>git remote -v
</code></pre><h4 id="ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€">ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€</h4>
<pre><code>git remote set-url origin git@github.com/xxx.git
</code></pre><blockquote>
<ol start="2">
<li>ä¿®æ”¹é¡¹ç›®ä¸‹.git/configæ–‡ä»¶</li>
</ol>
</blockquote>
<pre><code>[remote &quot;origin&quot;]
	# url = git@xxx
	url = git@github.com:xxx.git
</code></pre><h3 id="æŸ¥çœ‹åˆ†æ”¯">æŸ¥çœ‹åˆ†æ”¯</h3>
<pre><code>git branch 
git branch -a
</code></pre><h3 id="åˆ‡æ¢åˆ†æ”¯">åˆ‡æ¢åˆ†æ”¯</h3>
<pre><code>//æœ¬åœ°æ— åˆ†æ”¯ï¼ŒåŠ  -b ,ç›¸å½“äº git branch sdpost_dev ï¼Œgit checkout sdpost_dev
git checkout -b sdpost_dev
//æœ¬åœ°å·²æœ‰åˆ†æ”¯ï¼Œç›´æ¥åˆ‡æ¢
git checkout sdpost_dev
//checkoutè¿œç«¯åˆ†æ”¯
git checkout -b develop origin/develop
</code></pre><h3 id="ä»æŸä¸ªç‰ˆæœ¬ä»£ç æ‹‰å–æ–°çš„åˆ†æ”¯">ä»æŸä¸ªç‰ˆæœ¬ä»£ç æ‹‰å–æ–°çš„åˆ†æ”¯</h3>
<pre><code>git checkout -b newbranchname xxxxx(commit id)
</code></pre><h3 id="åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å†å²è®°å½•çš„æ–°åˆ†æ”¯">åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å†å²è®°å½•çš„æ–°åˆ†æ”¯</h3>
<pre><code>git checkout --orphan new_dev
git add .
git commit -m &quot;first commit&quot;
// å‘å¸ƒåˆ°è¿œç«¯åˆ†æ”¯
git push origin new_dev:new_dev
</code></pre><h3 id="ä¿®æ”¹åˆ†æ”¯åç§°">ä¿®æ”¹åˆ†æ”¯åç§°</h3>
<p>æœ¬åœ°åˆ†æ”¯</p>
<pre><code>git branch -m oldbranchname newbranchname
</code></pre><p>è¿œç¨‹åˆ†æ”¯</p>
<pre><code>å°†æœ¬åœ°åˆ†æ”¯é‡å‘½åä¸ºæ–°åˆ†æ”¯åç§°ï¼Œç„¶ååˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼Œå†æŠŠæœ¬åœ°åˆ†æ”¯ä¸Šä¼ 
</code></pre><h3 id="æŠŠæ–°å»ºçš„æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹æœåŠ¡å™¨è¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯åŒåå½“ç„¶å¯ä»¥éšæ„èµ·å">æŠŠæ–°å»ºçš„æœ¬åœ°åˆ†æ”¯pushåˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œè¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯åŒåï¼ˆå½“ç„¶å¯ä»¥éšæ„èµ·åï¼‰</h3>
<pre><code>git push origin wz-jr:wz-jr
</code></pre><pre><code>// åˆ›å»ºè¿œç«¯åˆ†æ”¯çš„å¦ä¸€ç§æ–¹å¼
git checkout -b my-test  //åœ¨å½“å‰åˆ†æ”¯ä¸‹åˆ›å»ºmy-testçš„æœ¬åœ°åˆ†æ”¯åˆ†æ”¯
git push origin my-test  //å°†my-teståˆ†æ”¯æ¨é€åˆ°è¿œç¨‹
git branch --set-upstream-to=origin/my-test //å°†æœ¬åœ°åˆ†æ”¯my-testå…³è”åˆ°è¿œç¨‹åˆ†æ”¯my-testä¸Š   
git branch -a //æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ 
</code></pre><h3 id="pushæ‰€æœ‰åˆ†æ”¯">pushæ‰€æœ‰åˆ†æ”¯</h3>
<pre><code>git push --all origin
</code></pre><h3 id="æ›´æ–°åˆ†æ”¯ä¿¡æ¯">æ›´æ–°åˆ†æ”¯ä¿¡æ¯</h3>
<blockquote>
<p>è¿œç¨‹ç‰ˆæœ¬åº“åˆ›å»ºäº†ä¸€ä¸ªåˆ†æ”¯å,æœ¬åœ°åˆ›å»ºè¿œç¨‹è¿½è¸ªåˆ†æ”¯</p>
</blockquote>
<pre><code>git remote update
</code></pre><blockquote>
<p>åœ¨è¿œç¨‹ç‰ˆæœ¬åº“ä¸Šåˆ é™¤äº†æŸä¸€åˆ†æ”¯,åˆ é™¤æœ¬åœ°ç‰ˆæœ¬åº“ä¸Šé‚£äº›å¤±æ•ˆçš„è¿œç¨‹è¿½è¸ªåˆ†æ”¯</p>
</blockquote>
<p>æ–¹æ³•ä¸€ï¼š</p>
<pre><code>// -p, --prune    prune remotes after fetching
git remote update -p
</code></pre><p>æ–¹æ³•äºŒï¼š</p>
<pre><code>// æŸ¥çœ‹å“ªäº›åˆ†æ”¯éœ€è¦æ¸…ç†
git remote prune origin --dry-run
// æ¸…ç†
git remote prune
</code></pre><blockquote>
<p>æœ¬åœ°åˆ†æ”¯ä½œä¸ºä¸‹æ¸¸å­˜åœ¨çš„è¯ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨æ¸…ç†</p>
</blockquote>
<pre><code>git branch -d xx
</code></pre><h3 id="åˆ é™¤åˆ†æ”¯">åˆ é™¤åˆ†æ”¯</h3>
<pre><code>git branch -d gte
git branch -D gte(å¼ºåˆ¶åˆ é™¤)
</code></pre><h3 id="åˆ é™¤è¿œç¨‹åˆ†æ”¯">åˆ é™¤è¿œç¨‹åˆ†æ”¯</h3>
<pre><code>git push origin --delete åˆ†æ”¯å
</code></pre><h3 id="æ¢å¤åˆ é™¤çš„åˆ†æ”¯">æ¢å¤åˆ é™¤çš„åˆ†æ”¯</h3>
<pre><code>git reflog(æ‰¾åˆ°æƒ³è¦æ¢å¤çš„åˆ†æ”¯çš„æ•£åˆ—å€¼)
git branch local-test HEAD@{2}
</code></pre><h3 id="æŸ¥çœ‹tag">æŸ¥çœ‹tag</h3>
<pre><code>git tag
</code></pre><h3 id="æŸ¥çœ‹tagè¯¦ç»†ä¿¡æ¯">æŸ¥çœ‹tagè¯¦ç»†ä¿¡æ¯</h3>
<pre><code>git show v1.0
</code></pre><h3 id="æ·»åŠ tag">æ·»åŠ tag</h3>
<pre><code>git tag v1.0
</code></pre><h3 id="æ·»åŠ å¸¦å¤‡æ³¨çš„tag">æ·»åŠ å¸¦å¤‡æ³¨çš„tag</h3>
<pre><code>git tag -a v1.0 -m &quot;v1.0&quot;
</code></pre><h3 id="ç»™æŒ‡å®šçš„æŸä¸ªcommitå·åŠ tag">ç»™æŒ‡å®šçš„æŸä¸ªcommitå·åŠ tag</h3>
<pre><code>git tag -a v1.0 9fceb02 -m &quot;v1.0&quot;
</code></pre><h3 id="å°†tagåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨">å°†tagåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨</h3>
<pre><code>git push origin v1.0
git push origin --tags //æ¨é€æ‰€æœ‰tag
</code></pre><h3 id="åˆ‡æ¢tag">åˆ‡æ¢tag</h3>
<pre><code>git checkout v1.0
</code></pre><h3 id="è·å–è¿œç¨‹ç‰ˆæœ¬">è·å–è¿œç¨‹ç‰ˆæœ¬</h3>
<pre><code>git fetch origin tag V1.0
</code></pre><h3 id="åˆ é™¤æœ¬åœ°tag">åˆ é™¤æœ¬åœ°tag</h3>
<pre><code>git tag -d v1.0
</code></pre><h3 id="åˆ é™¤è¿œç«¯tag">åˆ é™¤è¿œç«¯tag</h3>
<blockquote>
<p>æ¨é€çš„ç©ºçš„åŒåç‰ˆæœ¬åˆ°çº¿ä¸‹,è¾¾åˆ°åˆ é™¤çº¿ä¸Šç‰ˆæœ¬çš„ç›®æ ‡</p>
</blockquote>
<pre><code>git tag push origin :refs/tags/v1.0
</code></pre><h3 id="æŸ¥çœ‹çŠ¶æ€">æŸ¥çœ‹çŠ¶æ€</h3>
<pre><code>git status
</code></pre><h3 id="commit">commit</h3>
<pre><code>//ç›´æ¥å¡«å†™æäº¤æ—¥å¿—
git commit -m 'commit log'
</code></pre><h3 id="ä¿®æ”¹commit">ä¿®æ”¹commit</h3>
<pre><code>git commit --amend
</code></pre><h3 id="pull">pull</h3>
<pre><code>git pull origin master
</code></pre><h5 id="pull-é”™è¯¯-you-asked-to-pull-from-the-remote-origin-but-did-not-specify-a-branch-because-this-is-not-the-default-configured-remote-for-your-current-branch-you-must-specify-a-branch-on-the-command-line">pull é”™è¯¯ â€œYou asked to pull from the remote &lsquo;origin&rsquo;, but did not specify a branch. Because this is not the default configured remote for your current branch, you must specify a branch on the command line.â€</h5>
<blockquote>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/forever_wind/article/details/37506389">Gitè¿œç¨‹åˆ†æ”¯å’Œrefsæ–‡ä»¶è¯¦è§£
</a>
é—®é¢˜åœ¨äºæ²¡æœ‰ç»™å½“å‰åˆ†æ”¯é…ç½®mergeçš„è·¯å¾„ï¼Œgitä¸çŸ¥é“å»mergeå“ªä¸ªåˆ†æ”¯ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬ä¿®æ”¹é…ç½®æ–‡ä»¶(.git/config)åŠ å…¥</p>
<pre><code>[branch &quot;wz-jr2&quot;]
	remote = origin
	merge = refs/heads/wz-jr2
</code></pre><p>è¿™æ„å‘³ç€æ¯æ¬¡fetch originçš„æ—¶å€™æ›´æ–°æ‰€æœ‰remotes/originçš„å¤´æŒ‡é’ˆåˆ°refs/heads/ä¸‹é¢</p>
<h3 id="push">push</h3>
<pre><code>git push origin master
git push origin HEAD:refs/for/gte
//å¯æäº¤åˆ°æŒ‡å®šä½ç½®
git push //192.168.0.119/LocalShare/pengbo/adclient develop-post:develop-post
</code></pre><h3 id="å›é€€git">å›é€€git</h3>
<pre><code>// !!! Windowsä¸‹CMDä¸­^æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œè¦ä½¿ç”¨æ—¶å¿…é¡»ç”¨åŒå¼•å·åŒ…æ‹¬ (git reset &lt;--soft||--mixed||--hard&gt; HEAD&quot;^&quot;)
// !!! æˆ–è€… git reset &lt;--soft||--mixed||--hard&gt; HEAD~1
git reset &lt;--soft||--mixed||--hard&gt; HEAD^ (å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬) (HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^ï¼Œå½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª^æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆHEAD~100)
git reset &lt;--soft||--mixed||--hard&gt; xxxxxxxx (å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬)
</code></pre><h3 id="è¿œç¨‹ç‰ˆæœ¬å›é€€">è¿œç¨‹ç‰ˆæœ¬å›é€€</h3>
<pre><code>git push origin HEAD --force #è¿œç¨‹æäº¤å›é€€
</code></pre><h3 id="gitå›é€€åˆ°æŸä¸€å†å²ç‰ˆæœ¬åå†æ¢å¤åˆ°ä¹‹å‰ç‰ˆæœ¬">gitå›é€€åˆ°æŸä¸€å†å²ç‰ˆæœ¬åå†æ¢å¤åˆ°ä¹‹å‰ç‰ˆæœ¬</h3>
<pre><code>git reset --hard xxx
git reflog (git log -g)
git reset --hard xxx
</code></pre><h3 id="your-branch-is-behind-originwz-jr-by-1-commit-and-can-be-fast-forwarded">Your branch is behind &lsquo;origin/wz-jr&rsquo; by 1 commit, and can be fast-forwarded.</h3>
<pre><code>is behindè¡¨ç¤ºè½åè¿œç¨‹ç‰ˆæœ¬äº†ï¼Œå¹¶ä¸”å¯ä»¥fast forwardedå¿«é€Ÿåˆå¹¶
ä½¿ç”¨git push origin wz-jr --forceå¼ºåˆ¶å°†ä»£ç æ¨åˆ°æœåŠ¡å™¨ï¼Œ--forceä½¿æœåŠ¡å™¨ä¸ä¼šæ‹’ç»è¿™ä¸ªæ›´ä½ç‰ˆæœ¬çš„commit
</code></pre><h3 id="æ’¤é”€ä¿®æ”¹">æ’¤é”€ä¿®æ”¹</h3>
<pre><code>git checkout -- file (å‘½ä»¤git checkout -- fileæ„æ€å°±æ˜¯ï¼ŒæŠŠæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯readme.txtè‡ªä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ï¼›ä¸€ç§æ˜¯readme.txtå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚æ€»ä¹‹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€ã€‚)
git reset HEAD file (æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒº)
</code></pre><h3 id="å›é€€æŒ‡å®šæ–‡ä»¶åˆ°æŒ‡å®šç‰ˆæœ¬">å›é€€æŒ‡å®šæ–‡ä»¶åˆ°æŒ‡å®šç‰ˆæœ¬</h3>
<pre><code>git log /e/dev/adclient/app/src/main/AndroidManifest.xml
git reset a28887c24ed89938de7f769eb18b2555de790668 /e/dev/adclient/app/src/main/AndroidManifest.xml
git checkout -- /e/dev/adclient/app/src/main/AndroidManifest.xml
</code></pre><h3 id="é‡æ–°æäº¤-amend">é‡æ–°æäº¤ amend</h3>
<pre><code>git add .
git commit --amend( --no-edit)
// git push origin gte
// git push origin HEAD:refs/for/gte
// å¦‚æœå·²ç»pushåˆ°gitä»“åº“,amendåç›´æ¥pushä¼šç”Ÿæˆæ–°çš„è®°å½•ï¼Œéœ€è¦--force-with-lease
git push --force-with-lease origin master(å®‰å…¨çš„å¼ºåˆ¶æ¨é€)
</code></pre><h3 id="æš‚å­˜æ¢å¤-stash">æš‚å­˜/æ¢å¤ stash</h3>
<pre><code>git stash(æš‚å­˜)
git stash save &quot;&quot; (æš‚å­˜)
git stash pop(apply last stash and remove it from the list)
git stash list()
git stash pop stash@{1}(å–å‡ºæŒ‡å®šçš„æš‚å­˜,å–å‡ºåä¼šå°†å¯¹åº”çš„stash id ä»stash listé‡Œåˆ é™¤)
git stash apply stash@{1}(å–å‡ºæŒ‡å®šçš„æš‚å­˜ï¼Œå–å‡ºåä¼šç»§ç»­ä¿å­˜stash id)
git stash drop stash@{1}(åˆ é™¤æŒ‡å®šçš„æš‚å­˜)
git stash clear(å°†æ ˆæ¸…ç©º)
</code></pre><h3 id="cherry-pick">cherry-pick</h3>
<pre><code>// å°†å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„ä¸€ä¸ªæäº¤åˆå¹¶åˆ°æœ¬åˆ†æ”¯
git cherry-pick xxxx(commit id)

// åˆå¹¶å¤šæ¡
// ==æ³¨æ„ï¼Œä¸åŒ…å«xxx1==
git cherry-pick xxx1..xxx10
// ==åŒ…å«xxx1==
git cherry-pick xxx1^..xxx10

// ç»§ç»­åˆå¹¶ || å–æ¶ˆåˆå¹¶
git cherry-pick --continue || --abort
</code></pre><h3 id="revert">revert</h3>
<pre><code>git revert xxx
git commit
// git push origin gte
git push origin HEAD:refs/for/sdpost_dev
</code></pre><h3 id="fetchrebase">fetch/rebase</h3>
<pre><code>é¦–å…ˆç”¨git fetchè¿”å›æœåŠ¡å™¨ä¸Šçš„ä»£ç 
ç”¨git rebaseåˆå¹¶
    &gt; åˆå¹¶å†²çª
    &gt; git add .
    &gt; ç”¨git rebase --continueç»§ç»­æ²¡å®Œæˆçš„åˆå¹¶
    &gt; é‡æ–°æäº¤git commit --amend
æœ€åå°±å¯ä»¥ç”¨git pushæ›´æ–°åˆ°æœåŠ¡å™¨ä¸Šå»ã€‚
</code></pre><pre><code>git pull --rebase origin develop-post(git pull --rebase = git fetch + git rebase)
</code></pre><h3 id="å–æ¶ˆæœ¬æ¬¡rebase">å–æ¶ˆæœ¬æ¬¡rebase</h3>
<pre><code>git rebase --abort
</code></pre><h3 id="git-bisect-æŸ¥æ‰¾å“ªä¸€æ¬¡ä»£ç æäº¤å¼•å…¥äº†é”™è¯¯">git bisect æŸ¥æ‰¾å“ªä¸€æ¬¡ä»£ç æäº¤å¼•å…¥äº†é”™è¯¯</h3>
<blockquote>
<p>å‚è€ƒï¼š<a href="http://www.ruanyifeng.com/blog/2018/12/git-bisect.html">git bisect å‘½ä»¤æ•™ç¨‹</a></p>
</blockquote>
<blockquote>
<p>å®ƒçš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å°†ä»£ç æäº¤çš„å†å²ï¼ŒæŒ‰ç…§ä¸¤åˆ†æ³•ä¸æ–­ç¼©å°å®šä½ã€‚æ‰€è°“&quot;ä¸¤åˆ†æ³•&quot;ï¼Œå°±æ˜¯å°†ä»£ç å†å²ä¸€åˆ†ä¸ºäºŒï¼Œç¡®å®šé—®é¢˜å‡ºåœ¨å‰åŠéƒ¨åˆ†ï¼Œè¿˜æ˜¯ååŠéƒ¨åˆ†ï¼Œä¸æ–­æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°èŒƒå›´ç¼©å°åˆ°æŸä¸€æ¬¡ä»£ç æäº¤ã€‚</p>
</blockquote>
<pre><code>// &quot;ç»ˆç‚¹&quot;æ˜¯æœ€è¿‘çš„æäº¤ï¼Œ&quot;èµ·ç‚¹&quot;æ˜¯æ›´ä¹…ä»¥å‰çš„æäº¤
git bisect start [ç»ˆç‚¹] [èµ·ç‚¹]

eg:
git bisect start 100 1

æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œä»£ç åº“å°±ä¼šåˆ‡æ¢åˆ°è¿™æ®µèŒƒå›´æ­£å½“ä¸­çš„é‚£ä¸€æ¬¡æäº¤ï¼Œå³50

å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆ1-50ä¹‹é—´æ˜¯æ­£å¸¸çš„ï¼Œæ‰§è¡Œ
git bisect good

é‚£ä¹ˆGitå°±è‡ªåŠ¨åˆ‡æ¢åˆ°ååŠæ®µçš„ä¸­ç‚¹ï¼Œå³50-100ï¼Œå³75

å¦‚æœå‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆ50-75ä¹‹é—´æœ‰é—®é¢˜ï¼Œæ‰§è¡Œ
git bisect bad

Gitå°±è‡ªåŠ¨åˆ‡æ¢åˆ°ç¬¬50æ¬¡åˆ°ç¬¬75æ¬¡çš„ä¸­ç‚¹ï¼ˆç¬¬63æ¬¡æäº¤ï¼‰

é‡å¤æ‰§è¡Œä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æˆåŠŸæ‰¾åˆ°å‡ºé—®é¢˜çš„é‚£ä¸€æ¬¡æäº¤ä¸ºæ­¢ï¼ŒGit ä¼šç»™å‡ºå¦‚ä¸‹çš„æç¤º

xxx is the first bad commit

æŸ¥å‡ºé—®é¢˜åï¼Œæ‰§è¡Œ
git bisect reset

é€€å‡ºæŸ¥é”™

ç°åœ¨å°±å¯ä»¥å¼€å§‹ä¿®å¤é”™è¯¯äº†ã€‚
</code></pre>

                

                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/2019-06-15-hello-everyone/" data-toggle="tooltip" data-placement="top" title="Hello EveryOne">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/2019-06-18-flutter-desktop/" data-toggle="tooltip" data-placement="top" title="FLutterç¼–è¯‘æ¡Œé¢ç«¯app">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

                
<div id="disqus-comment"></div>



            </div>
            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/tags/android" title="android">
                            android
                        </a>
                        
                        
                        
                        <a href="/tags/dart" title="dart">
                            dart
                        </a>
                        
                        
                        
                        <a href="/tags/flutter" title="flutter">
                            flutter
                        </a>
                        
                        
                        
                        <a href="/tags/git" title="git">
                            git
                        </a>
                        
                        
                        
                        <a href="/tags/idea" title="idea">
                            idea
                        </a>
                        
                        
                        
                        <a href="/tags/java" title="java">
                            java
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" title="æ€§èƒ½ä¼˜åŒ–">
                            æ€§èƒ½ä¼˜åŒ–
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" title="æ•°æ®ç»“æ„">
                            æ•°æ®ç»“æ„
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%97%A5%E5%B8%B8" title="æ—¥å¸¸">
                            æ—¥å¸¸
                        </a>
                        
                        
                        
                        <a href="/tags/%E7%AE%97%E6%B3%95" title="ç®—æ³•">
                            ç®—æ³•
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                    

                    
                    
                    

                    

		    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; wmszhe 2021
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






</body>
</html>
