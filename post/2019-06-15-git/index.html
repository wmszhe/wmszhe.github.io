<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git | wmszhe</title><meta name=keywords content="Git"><meta name=description content="Git相关,常用Git命令&mldr;"><meta name=author content="wmszhe"><link rel=canonical href=https://blog.wmszhe.com/post/2019-06-15-git/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.wmszhe.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.wmszhe.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.wmszhe.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.wmszhe.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.wmszhe.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Git"><meta property="og:description" content="Git相关,常用Git命令&mldr;"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.wmszhe.com/post/2019-06-15-git/"><meta property="og:image" content="https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-06-15T00:00:00+00:00"><meta property="article:modified_time" content="2019-06-15T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png"><meta name=twitter:title content="Git"><meta name=twitter:description content="Git相关,常用Git命令&mldr;"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.wmszhe.com/post/"},{"@type":"ListItem","position":2,"name":"Git","item":"https://blog.wmszhe.com/post/2019-06-15-git/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git","name":"Git","description":"Git相关,常用Git命令\u0026hellip;\n","keywords":["Git"],"articleBody":"Git相关,常用Git命令…\nSSH 1. 生成SSH秘钥，秘钥名字最好便于识别，例如用自己的名字,[keyname]=name ssh-keygen -f ~/.ssh/[keyname] 2. 查看公钥信息 cat ~/.ssh/[keyname].pub 3. 将公钥信息粘贴到gerrit上，打开gerrit点击右上角的登录，使用员工账号与密码登录，登录后点击gerrit右上角用户名，点击弹出框左下的Settings,选择左侧的SSH Public Keys，将公钥信息粘贴进去点击Add。 4. 将私钥加到ssh-agent ssh-agent bash ssh-add ~/.ssh/[keyname] 5. 配置git git config --global user.name [fullname] 这个名字建议写全名 git config --global user.email [email] 这个email填写你的邮箱 git config --global color.ui true git config --global gui.encoding utf-8 设置git全局设置： git config --global user.name \"your_name\" git config --global user.email \"your_email\" 需要取消git的全局设置: git config --global --unset user.name git config --global --unset user.email 针对每个项目，单独设置用户名和邮箱，设置方法如下： git config user.name \"your_name\" git config user.email \"your_email\" 测试连接 ssh -T git@github.com ssh -T git@192.168.1.2 .gitignore无效的解决方法 在项目文件夹下打开git bash，执行\ngit rm -r --cached .DS_Store 这句代码的意思就是解除跟踪DS_Store，清缓存 // git rm -r --cached . 解除跟踪所有文件 git add . git commit -m 'update .gitignore' init git init git add . git commit -m \"init\" init后传至git仓库 git remote add origin git@github.com:wmszhe/PythonTools.git git push -u origin master 日志 1.查询日志 git log 2.查指定文件的提交日志 1. 查看日志记录 git log --pretty=oneline .gitignore 2. 使用git show查看具体日志 --\u003e git show \u003c文件名\u003e git show 03bb009eb06b16c62155206b0e5724b532820efd .gitignore 3.查询某个人的提交日志 git log --author=\"author\" clone git clone https://github.com/CharonChui/AndroidNote.git __AndroidNote(自定义的文件夹名) git clone ssh://zhe.wang@192.168.0.119:29418/adclient -b gte clone –depth 指定克隆深度,为1即表示只克隆最近一次commit.\ngit clone xxx --depth 1 如果我们之后要把之前的历史重新再 pull 下来\n// 将浅克隆转换为完整克隆 git pull --unshallow git fetch --unshallow 安装hook,目的是在提交信息中自动创建 ‘Change-Id:’ 标签 cd adclient scp -p -P 29418 zhe.wang@192.168.0.119:hooks/commit-msg .git/hooks/ 远程仓库 通过终端修改 查看远程仓库地址 git remote -v 修改远程仓库地址 git remote set-url origin git@github.com/xxx.git 修改项目下.git/config文件 [remote \"origin\"] # url = git@xxx url = git@github.com:xxx.git 查看分支 git branch git branch -a 切换分支 //本地无分支，加 -b ,相当于 git branch sdpost_dev ，git checkout sdpost_dev git checkout -b sdpost_dev //本地已有分支，直接切换 git checkout sdpost_dev //checkout远端分支 git checkout -b develop origin/develop 从某个版本代码拉取新的分支 git checkout -b newbranchname xxxxx(commit id) 创建一个没有历史记录的新分支 git checkout --orphan new_dev git add . git commit -m \"first commit\" // 发布到远端分支 git push origin new_dev:new_dev 修改分支名称 本地分支\ngit branch -m oldbranchname newbranchname 远程分支\n将本地分支重命名为新分支名称，然后删除远程分支，再把本地分支上传 把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名） git push origin wz-jr:wz-jr // 创建远端分支的另一种方式 git checkout -b my-test //在当前分支下创建my-test的本地分支分支 git push origin my-test //将my-test分支推送到远程 git branch --set-upstream-to=origin/my-test //将本地分支my-test关联到远程分支my-test上 git branch -a //查看远程分支 push所有分支 git push --all origin 更新分支信息 远程版本库创建了一个分支后,本地创建远程追踪分支\ngit remote update 在远程版本库上删除了某一分支,删除本地版本库上那些失效的远程追踪分支\n方法一：\n// -p, --prune prune remotes after fetching git remote update -p 方法二：\n// 查看哪些分支需要清理 git remote prune origin --dry-run // 清理 git remote prune 本地分支作为下游存在的话，还需要手动清理\ngit branch -d xx 删除分支 git branch -d gte git branch -D gte(强制删除) 删除远程分支 git push origin --delete 分支名 恢复删除的分支 git reflog(找到想要恢复的分支的散列值) git branch local-test HEAD@{2} 查看tag git tag 查看tag详细信息 git show v1.0 添加tag git tag v1.0 添加带备注的tag git tag -a v1.0 -m \"v1.0\" 给指定的某个commit号加tag git tag -a v1.0 9fceb02 -m \"v1.0\" 将tag同步到远程服务器 git push origin v1.0 git push origin --tags //推送所有tag 切换tag git checkout v1.0 获取远程版本 git fetch origin tag V1.0 删除本地tag git tag -d v1.0 删除远端tag 推送的空的同名版本到线下,达到删除线上版本的目标\ngit tag push origin :refs/tags/v1.0 查看状态 git status commit //直接填写提交日志 git commit -m 'commit log' 修改commit git commit --amend pull git pull origin master pull 错误 “You asked to pull from the remote ‘origin’, but did not specify a branch. Because this is not the default configured remote for your current branch, you must specify a branch on the command line.” 参考：Git远程分支和refs文件详解 问题在于没有给当前分支配置merge的路径，git不知道去merge哪个分支。\n我们修改配置文件(.git/config)加入\n[branch \"wz-jr2\"] remote = origin merge = refs/heads/wz-jr2 这意味着每次fetch origin的时候更新所有remotes/origin的头指针到refs/heads/下面\npush git push origin master git push origin HEAD:refs/for/gte //可提交到指定位置 git push //192.168.0.119/LocalShare/pengbo/adclient develop-post:develop-post 回退git // !!! Windows下CMD中^是特殊字符，要使用时必须用双引号包括 (git reset \u003c--soft||--mixed||--hard\u003e HEAD\"^\") // !!! 或者 git reset \u003c--soft||--mixed||--hard\u003e HEAD~1 git reset \u003c--soft||--mixed||--hard\u003e HEAD^ (回退到上一个版本) (HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100) git reset \u003c--soft||--mixed||--hard\u003e xxxxxxxx (回退到指定版本) 远程版本回退 git push origin HEAD --force #远程提交回退 git回退到某一历史版本后再恢复到之前版本 git reset --hard xxx git reflog (git log -g) git reset --hard xxx Your branch is behind ‘origin/wz-jr’ by 1 commit, and can be fast-forwarded. is behind表示落后远程版本了，并且可以fast forwarded快速合并 使用git push origin wz-jr --force强制将代码推到服务器，--force使服务器不会拒绝这个更低版本的commit 撤销修改 git checkout -- file (命令git checkout -- file意思就是，把文件在工作区的修改全部撤销，这里有两种情况：一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。总之，就是让这个文件回到最近一次git commit或git add时的状态。) git reset HEAD file (把暂存区的修改撤销掉（unstage），重新放回工作区) 回退指定文件到指定版本 git log /e/dev/adclient/app/src/main/AndroidManifest.xml git reset a28887c24ed89938de7f769eb18b2555de790668 /e/dev/adclient/app/src/main/AndroidManifest.xml git checkout -- /e/dev/adclient/app/src/main/AndroidManifest.xml 重新提交 amend git add . git commit --amend( --no-edit) // git push origin gte // git push origin HEAD:refs/for/gte // 如果已经push到git仓库,amend后直接push会生成新的记录，需要--force-with-lease git push --force-with-lease origin master(安全的强制推送) 暂存/恢复 stash git stash(暂存) git stash save \"\" (暂存) git stash pop(apply last stash and remove it from the list) git stash list() git stash pop stash@{1}(取出指定的暂存,取出后会将对应的stash id 从stash list里删除) git stash apply stash@{1}(取出指定的暂存，取出后会继续保存stash id) git stash drop stash@{1}(删除指定的暂存) git stash clear(将栈清空) cherry-pick // 将另一个分支上的一个提交合并到本分支 git cherry-pick xxxx(commit id) // 合并多条 // ==注意，不包含xxx1== git cherry-pick xxx1..xxx10 // ==包含xxx1== git cherry-pick xxx1^..xxx10 // 继续合并 || 取消合并 git cherry-pick --continue || --abort revert git revert xxx git commit // git push origin gte git push origin HEAD:refs/for/sdpost_dev fetch/rebase 首先用git fetch返回服务器上的代码 用git rebase合并 \u003e 合并冲突 \u003e git add . \u003e 用git rebase --continue继续没完成的合并 \u003e 重新提交git commit --amend 最后就可以用git push更新到服务器上去。 git pull --rebase origin develop-post(git pull --rebase = git fetch + git rebase) 取消本次rebase git rebase --abort git bisect 查找哪一次代码提交引入了错误 参考：git bisect 命令教程\n它的原理很简单，就是将代码提交的历史，按照两分法不断缩小定位。所谓\"两分法\"，就是将代码历史一分为二，确定问题出在前半部分，还是后半部分，不断执行这个过程，直到范围缩小到某一次代码提交。\n// \"终点\"是最近的提交，\"起点\"是更久以前的提交 git bisect start [终点] [起点] eg: git bisect start 100 1 执行上面的命令以后，代码库就会切换到这段范围正当中的那一次提交，即50 如果没有问题，那么1-50之间是正常的，执行 git bisect good 那么Git就自动切换到后半段的中点，即50-100，即75 如果出现问题，那么50-75之间有问题，执行 git bisect bad Git就自动切换到第50次到第75次的中点（第63次提交） 重复执行上述操作，直到成功找到出问题的那一次提交为止，Git 会给出如下的提示 xxx is the first bad commit 查出问题后，执行 git bisect reset 退出查错 现在就可以开始修复错误了。 ","wordCount":"3128","inLanguage":"en","image":"https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png","datePublished":"2019-06-15T00:00:00Z","dateModified":"2019-06-15T00:00:00Z","author":{"@type":"Person","name":"wmszhe"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.wmszhe.com/post/2019-06-15-git/"},"publisher":{"@type":"Organization","name":"wmszhe","logo":{"@type":"ImageObject","url":"https://blog.wmszhe.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.wmszhe.com/ accesskey=h title="wmszhe (Alt + H)">wmszhe</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.wmszhe.com/search/ title=🔍><span>🔍</span></a></li><li><a href=https://blog.wmszhe.com/archives title=Archive><span>Archive</span></a></li><li><a href=https://blog.wmszhe.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://blog.wmszhe.com/about title=About><span>About</span></a></li><li><a href=https://www.wanandroid.com title=玩Android><span>玩Android</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.androiddevtools.cn/index.html title=AndroidDevTools><span>AndroidDevTools</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.wmszhe.com/>Home</a>&nbsp;»&nbsp;<a href=https://blog.wmszhe.com/post/>Posts</a></div><h1 class=post-title>Git</h1><div class=post-meta><span title='2019-06-15 00:00:00 +0000 UTC'>June 15, 2019</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;wmszhe</div></header><figure class=entry-cover><a href=https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png target=_blank rel="noopener noreferrer"><img loading=lazy src=https://raw.githubusercontent.com/wmszhe/pichub/master/imgs/git.png alt></a></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#ssh aria-label=SSH>SSH</a></li><li><a href=#%e8%ae%be%e7%bd%aegit%e5%85%a8%e5%b1%80%e8%ae%be%e7%bd%ae aria-label=设置git全局设置：>设置git全局设置：</a></li><li><a href=#%e9%9c%80%e8%a6%81%e5%8f%96%e6%b6%88git%e7%9a%84%e5%85%a8%e5%b1%80%e8%ae%be%e7%bd%ae aria-label=需要取消git的全局设置:>需要取消git的全局设置:</a></li><li><a href=#%e9%92%88%e5%af%b9%e6%af%8f%e4%b8%aa%e9%a1%b9%e7%9b%ae%e5%8d%95%e7%8b%ac%e8%ae%be%e7%bd%ae%e7%94%a8%e6%88%b7%e5%90%8d%e5%92%8c%e9%82%ae%e7%ae%b1%e8%ae%be%e7%bd%ae%e6%96%b9%e6%b3%95%e5%a6%82%e4%b8%8b aria-label=针对每个项目，单独设置用户名和邮箱，设置方法如下：>针对每个项目，单独设置用户名和邮箱，设置方法如下：</a></li><li><a href=#%e6%b5%8b%e8%af%95%e8%bf%9e%e6%8e%a5 aria-label=测试连接>测试连接</a></li><li><a href=#gitignore%e6%97%a0%e6%95%88%e7%9a%84%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95 aria-label=.gitignore无效的解决方法>.gitignore无效的解决方法</a></li><li><a href=#init aria-label=init>init</a></li><li><a href=#init%e5%90%8e%e4%bc%a0%e8%87%b3git%e4%bb%93%e5%ba%93 aria-label=init后传至git仓库>init后传至git仓库</a></li><li><a href=#%e6%97%a5%e5%bf%97 aria-label=日志>日志</a><ul><ul><li><a href=#1%e6%9f%a5%e8%af%a2%e6%97%a5%e5%bf%97 aria-label=1.查询日志>1.查询日志</a></li><li><a href=#2%e6%9f%a5%e6%8c%87%e5%ae%9a%e6%96%87%e4%bb%b6%e7%9a%84%e6%8f%90%e4%ba%a4%e6%97%a5%e5%bf%97 aria-label=2.查指定文件的提交日志>2.查指定文件的提交日志</a></li><li><a href=#3%e6%9f%a5%e8%af%a2%e6%9f%90%e4%b8%aa%e4%ba%ba%e7%9a%84%e6%8f%90%e4%ba%a4%e6%97%a5%e5%bf%97 aria-label=3.查询某个人的提交日志>3.查询某个人的提交日志</a></li></ul></ul></li><li><a href=#clone aria-label=clone>clone</a></li><li><a href=#clone---depth aria-label="clone &amp;ndash;depth">clone &ndash;depth</a></li><li><a href=#%e5%ae%89%e8%a3%85hook%e7%9b%ae%e7%9a%84%e6%98%af%e5%9c%a8%e6%8f%90%e4%ba%a4%e4%bf%a1%e6%81%af%e4%b8%ad%e8%87%aa%e5%8a%a8%e5%88%9b%e5%bb%ba-change-id-%e6%a0%87%e7%ad%be aria-label="安装hook,目的是在提交信息中自动创建 &amp;lsquo;Change-Id:&amp;rsquo; 标签">安装hook,目的是在提交信息中自动创建 &lsquo;Change-Id:&rsquo; 标签</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=远程仓库>远程仓库</a><ul><li><a href=#%e6%9f%a5%e7%9c%8b%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e5%9c%b0%e5%9d%80 aria-label=查看远程仓库地址>查看远程仓库地址</a></li><li><a href=#%e4%bf%ae%e6%94%b9%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e5%9c%b0%e5%9d%80 aria-label=修改远程仓库地址>修改远程仓库地址</a></li></ul></li><li><a href=#%e6%9f%a5%e7%9c%8b%e5%88%86%e6%94%af aria-label=查看分支>查看分支</a></li><li><a href=#%e5%88%87%e6%8d%a2%e5%88%86%e6%94%af aria-label=切换分支>切换分支</a></li><li><a href=#%e4%bb%8e%e6%9f%90%e4%b8%aa%e7%89%88%e6%9c%ac%e4%bb%a3%e7%a0%81%e6%8b%89%e5%8f%96%e6%96%b0%e7%9a%84%e5%88%86%e6%94%af aria-label=从某个版本代码拉取新的分支>从某个版本代码拉取新的分支</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%b2%a1%e6%9c%89%e5%8e%86%e5%8f%b2%e8%ae%b0%e5%bd%95%e7%9a%84%e6%96%b0%e5%88%86%e6%94%af aria-label=创建一个没有历史记录的新分支>创建一个没有历史记录的新分支</a></li><li><a href=#%e4%bf%ae%e6%94%b9%e5%88%86%e6%94%af%e5%90%8d%e7%a7%b0 aria-label=修改分支名称>修改分支名称</a></li><li><a href=#%e6%8a%8a%e6%96%b0%e5%bb%ba%e7%9a%84%e6%9c%ac%e5%9c%b0%e5%88%86%e6%94%afpush%e5%88%b0%e8%bf%9c%e7%a8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af%e4%b8%8e%e6%9c%ac%e5%9c%b0%e5%88%86%e6%94%af%e5%90%8c%e5%90%8d%e5%bd%93%e7%84%b6%e5%8f%af%e4%bb%a5%e9%9a%8f%e6%84%8f%e8%b5%b7%e5%90%8d aria-label=把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名）>把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名）</a></li><li><a href=#push%e6%89%80%e6%9c%89%e5%88%86%e6%94%af aria-label=push所有分支>push所有分支</a></li><li><a href=#%e6%9b%b4%e6%96%b0%e5%88%86%e6%94%af%e4%bf%a1%e6%81%af aria-label=更新分支信息>更新分支信息</a></li><li><a href=#%e5%88%a0%e9%99%a4%e5%88%86%e6%94%af aria-label=删除分支>删除分支</a></li><li><a href=#%e5%88%a0%e9%99%a4%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=删除远程分支>删除远程分支</a></li><li><a href=#%e6%81%a2%e5%a4%8d%e5%88%a0%e9%99%a4%e7%9a%84%e5%88%86%e6%94%af aria-label=恢复删除的分支>恢复删除的分支</a></li><li><a href=#%e6%9f%a5%e7%9c%8btag aria-label=查看tag>查看tag</a></li><li><a href=#%e6%9f%a5%e7%9c%8btag%e8%af%a6%e7%bb%86%e4%bf%a1%e6%81%af aria-label=查看tag详细信息>查看tag详细信息</a></li><li><a href=#%e6%b7%bb%e5%8a%a0tag aria-label=添加tag>添加tag</a></li><li><a href=#%e6%b7%bb%e5%8a%a0%e5%b8%a6%e5%a4%87%e6%b3%a8%e7%9a%84tag aria-label=添加带备注的tag>添加带备注的tag</a></li><li><a href=#%e7%bb%99%e6%8c%87%e5%ae%9a%e7%9a%84%e6%9f%90%e4%b8%aacommit%e5%8f%b7%e5%8a%a0tag aria-label=给指定的某个commit号加tag>给指定的某个commit号加tag</a></li><li><a href=#%e5%b0%86tag%e5%90%8c%e6%ad%a5%e5%88%b0%e8%bf%9c%e7%a8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8 aria-label=将tag同步到远程服务器>将tag同步到远程服务器</a></li><li><a href=#%e5%88%87%e6%8d%a2tag aria-label=切换tag>切换tag</a></li><li><a href=#%e8%8e%b7%e5%8f%96%e8%bf%9c%e7%a8%8b%e7%89%88%e6%9c%ac aria-label=获取远程版本>获取远程版本</a></li><li><a href=#%e5%88%a0%e9%99%a4%e6%9c%ac%e5%9c%b0tag aria-label=删除本地tag>删除本地tag</a></li><li><a href=#%e5%88%a0%e9%99%a4%e8%bf%9c%e7%ab%aftag aria-label=删除远端tag>删除远端tag</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e7%8a%b6%e6%80%81 aria-label=查看状态>查看状态</a></li><li><a href=#commit aria-label=commit>commit</a></li><li><a href=#%e4%bf%ae%e6%94%b9commit aria-label=修改commit>修改commit</a></li><li><a href=#pull aria-label=pull>pull</a><ul><ul><li><a href=#pull-%e9%94%99%e8%af%af-you-asked-to-pull-from-the-remote-origin-but-did-not-specify-a-branch-because-this-is-not-the-default-configured-remote-for-your-current-branch-you-must-specify-a-branch-on-the-command-line aria-label="pull 错误 “You asked to pull from the remote &amp;lsquo;origin&amp;rsquo;, but did not specify a branch. Because this is not the default configured remote for your current branch, you must specify a branch on the command line.”">pull 错误 “You asked to pull from the remote &lsquo;origin&rsquo;, but did not specify a branch. Because this is not the default configured remote for your current branch, you must specify a branch on the command line.”</a></li></ul></ul></li><li><a href=#push aria-label=push>push</a></li><li><a href=#%e5%9b%9e%e9%80%80git aria-label=回退git>回退git</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e7%89%88%e6%9c%ac%e5%9b%9e%e9%80%80 aria-label=远程版本回退>远程版本回退</a></li><li><a href=#git%e5%9b%9e%e9%80%80%e5%88%b0%e6%9f%90%e4%b8%80%e5%8e%86%e5%8f%b2%e7%89%88%e6%9c%ac%e5%90%8e%e5%86%8d%e6%81%a2%e5%a4%8d%e5%88%b0%e4%b9%8b%e5%89%8d%e7%89%88%e6%9c%ac aria-label=git回退到某一历史版本后再恢复到之前版本>git回退到某一历史版本后再恢复到之前版本</a></li><li><a href=#your-branch-is-behind-originwz-jr-by-1-commit-and-can-be-fast-forwarded aria-label="Your branch is behind &amp;lsquo;origin/wz-jr&amp;rsquo; by 1 commit, and can be fast-forwarded.">Your branch is behind &lsquo;origin/wz-jr&rsquo; by 1 commit, and can be fast-forwarded.</a></li><li><a href=#%e6%92%a4%e9%94%80%e4%bf%ae%e6%94%b9 aria-label=撤销修改>撤销修改</a></li><li><a href=#%e5%9b%9e%e9%80%80%e6%8c%87%e5%ae%9a%e6%96%87%e4%bb%b6%e5%88%b0%e6%8c%87%e5%ae%9a%e7%89%88%e6%9c%ac aria-label=回退指定文件到指定版本>回退指定文件到指定版本</a></li><li><a href=#%e9%87%8d%e6%96%b0%e6%8f%90%e4%ba%a4-amend aria-label="重新提交 amend">重新提交 amend</a></li><li><a href=#%e6%9a%82%e5%ad%98%e6%81%a2%e5%a4%8d-stash aria-label="暂存/恢复 stash">暂存/恢复 stash</a></li><li><a href=#cherry-pick aria-label=cherry-pick>cherry-pick</a></li><li><a href=#revert aria-label=revert>revert</a></li><li><a href=#fetchrebase aria-label=fetch/rebase>fetch/rebase</a></li><li><a href=#%e5%8f%96%e6%b6%88%e6%9c%ac%e6%ac%a1rebase aria-label=取消本次rebase>取消本次rebase</a></li><li><a href=#git-bisect-%e6%9f%a5%e6%89%be%e5%93%aa%e4%b8%80%e6%ac%a1%e4%bb%a3%e7%a0%81%e6%8f%90%e4%ba%a4%e5%bc%95%e5%85%a5%e4%ba%86%e9%94%99%e8%af%af aria-label="git bisect 查找哪一次代码提交引入了错误">git bisect 查找哪一次代码提交引入了错误</a></li></ul></div></details></div><div class=post-content><p>Git相关,常用Git命令&mldr;</p><h3 id=ssh>SSH<a hidden class=anchor aria-hidden=true href=#ssh>#</a></h3><pre tabindex=0><code>1. 生成SSH秘钥，秘钥名字最好便于识别，例如用自己的名字,[keyname]=name
    ssh-keygen -f ~/.ssh/[keyname]
2. 查看公钥信息
    cat ~/.ssh/[keyname].pub
3. 将公钥信息粘贴到gerrit上，打开gerrit点击右上角的登录，使用员工账号与密码登录，登录后点击gerrit右上角用户名，点击弹出框左下的Settings,选择左侧的SSH Public Keys，将公钥信息粘贴进去点击Add。
4. 将私钥加到ssh-agent
    ssh-agent bash
    ssh-add ~/.ssh/[keyname]
5. 配置git
    git config --global user.name [fullname] 这个名字建议写全名
    git config --global user.email [email]  这个email填写你的邮箱
    git config --global color.ui true
    git config --global gui.encoding utf-8
</code></pre><h3 id=设置git全局设置>设置git全局设置：<a hidden class=anchor aria-hidden=true href=#设置git全局设置>#</a></h3><pre tabindex=0><code>git config --global user.name &#34;your_name&#34; 
git config --global user.email  &#34;your_email&#34;
</code></pre><h3 id=需要取消git的全局设置>需要取消git的全局设置:<a hidden class=anchor aria-hidden=true href=#需要取消git的全局设置>#</a></h3><pre tabindex=0><code>git config --global --unset user.name
git config --global --unset user.email
</code></pre><h3 id=针对每个项目单独设置用户名和邮箱设置方法如下>针对每个项目，单独设置用户名和邮箱，设置方法如下：<a hidden class=anchor aria-hidden=true href=#针对每个项目单独设置用户名和邮箱设置方法如下>#</a></h3><pre tabindex=0><code>git config user.name &#34;your_name&#34; 
git config user.email &#34;your_email&#34;
</code></pre><h3 id=测试连接>测试连接<a hidden class=anchor aria-hidden=true href=#测试连接>#</a></h3><pre tabindex=0><code>ssh -T git@github.com
ssh -T git@192.168.1.2
</code></pre><h3 id=gitignore无效的解决方法>.gitignore无效的解决方法<a hidden class=anchor aria-hidden=true href=#gitignore无效的解决方法>#</a></h3><p>在项目文件夹下打开git bash，执行</p><pre tabindex=0><code>git rm -r --cached .DS_Store 这句代码的意思就是解除跟踪DS_Store，清缓存
// git rm -r --cached . 解除跟踪所有文件
git add .
git commit -m &#39;update .gitignore&#39;
</code></pre><h3 id=init>init<a hidden class=anchor aria-hidden=true href=#init>#</a></h3><pre tabindex=0><code>git init
git add .
git commit -m &#34;init&#34;
</code></pre><h3 id=init后传至git仓库>init后传至git仓库<a hidden class=anchor aria-hidden=true href=#init后传至git仓库>#</a></h3><pre tabindex=0><code>git remote add origin git@github.com:wmszhe/PythonTools.git
git push -u origin master
</code></pre><h3 id=日志>日志<a hidden class=anchor aria-hidden=true href=#日志>#</a></h3><h5 id=1查询日志>1.查询日志<a hidden class=anchor aria-hidden=true href=#1查询日志>#</a></h5><pre tabindex=0><code>git log
</code></pre><h5 id=2查指定文件的提交日志>2.查指定文件的提交日志<a hidden class=anchor aria-hidden=true href=#2查指定文件的提交日志>#</a></h5><pre tabindex=0><code>1. 查看日志记录
git log --pretty=oneline .gitignore

2. 使用git show查看具体日志 --&gt; git show &lt;git提交版本号&gt; &lt;文件名&gt;
git show 03bb009eb06b16c62155206b0e5724b532820efd .gitignore
</code></pre><h5 id=3查询某个人的提交日志>3.查询某个人的提交日志<a hidden class=anchor aria-hidden=true href=#3查询某个人的提交日志>#</a></h5><pre tabindex=0><code>git log --author=&#34;author&#34;
</code></pre><h3 id=clone>clone<a hidden class=anchor aria-hidden=true href=#clone>#</a></h3><pre tabindex=0><code>git clone https://github.com/CharonChui/AndroidNote.git __AndroidNote(自定义的文件夹名)
git clone ssh://zhe.wang@192.168.0.119:29418/adclient -b gte
</code></pre><h3 id=clone---depth>clone &ndash;depth<a hidden class=anchor aria-hidden=true href=#clone---depth>#</a></h3><p>指定克隆深度,为1即表示只克隆最近一次commit.</p><pre tabindex=0><code>git clone xxx --depth 1
</code></pre><p>如果我们之后要把之前的历史重新再 pull 下来</p><pre tabindex=0><code>// 将浅克隆转换为完整克隆
git pull --unshallow
git fetch --unshallow
</code></pre><h3 id=安装hook目的是在提交信息中自动创建-change-id-标签>安装hook,目的是在提交信息中自动创建 &lsquo;Change-Id:&rsquo; 标签<a hidden class=anchor aria-hidden=true href=#安装hook目的是在提交信息中自动创建-change-id-标签>#</a></h3><pre tabindex=0><code>cd adclient
scp -p -P 29418 zhe.wang@192.168.0.119:hooks/commit-msg .git/hooks/
</code></pre><h3 id=远程仓库>远程仓库<a hidden class=anchor aria-hidden=true href=#远程仓库>#</a></h3><blockquote><ol><li>通过终端修改</li></ol></blockquote><h4 id=查看远程仓库地址>查看远程仓库地址<a hidden class=anchor aria-hidden=true href=#查看远程仓库地址>#</a></h4><pre tabindex=0><code>git remote -v
</code></pre><h4 id=修改远程仓库地址>修改远程仓库地址<a hidden class=anchor aria-hidden=true href=#修改远程仓库地址>#</a></h4><pre tabindex=0><code>git remote set-url origin git@github.com/xxx.git
</code></pre><blockquote><ol start=2><li>修改项目下.git/config文件</li></ol></blockquote><pre tabindex=0><code>[remote &#34;origin&#34;]
	# url = git@xxx
	url = git@github.com:xxx.git
</code></pre><h3 id=查看分支>查看分支<a hidden class=anchor aria-hidden=true href=#查看分支>#</a></h3><pre tabindex=0><code>git branch 
git branch -a
</code></pre><h3 id=切换分支>切换分支<a hidden class=anchor aria-hidden=true href=#切换分支>#</a></h3><pre tabindex=0><code>//本地无分支，加 -b ,相当于 git branch sdpost_dev ，git checkout sdpost_dev
git checkout -b sdpost_dev
//本地已有分支，直接切换
git checkout sdpost_dev
//checkout远端分支
git checkout -b develop origin/develop
</code></pre><h3 id=从某个版本代码拉取新的分支>从某个版本代码拉取新的分支<a hidden class=anchor aria-hidden=true href=#从某个版本代码拉取新的分支>#</a></h3><pre tabindex=0><code>git checkout -b newbranchname xxxxx(commit id)
</code></pre><h3 id=创建一个没有历史记录的新分支>创建一个没有历史记录的新分支<a hidden class=anchor aria-hidden=true href=#创建一个没有历史记录的新分支>#</a></h3><pre tabindex=0><code>git checkout --orphan new_dev
git add .
git commit -m &#34;first commit&#34;
// 发布到远端分支
git push origin new_dev:new_dev
</code></pre><h3 id=修改分支名称>修改分支名称<a hidden class=anchor aria-hidden=true href=#修改分支名称>#</a></h3><p>本地分支</p><pre tabindex=0><code>git branch -m oldbranchname newbranchname
</code></pre><p>远程分支</p><pre tabindex=0><code>将本地分支重命名为新分支名称，然后删除远程分支，再把本地分支上传
</code></pre><h3 id=把新建的本地分支push到远程服务器远程分支与本地分支同名当然可以随意起名>把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名）<a hidden class=anchor aria-hidden=true href=#把新建的本地分支push到远程服务器远程分支与本地分支同名当然可以随意起名>#</a></h3><pre tabindex=0><code>git push origin wz-jr:wz-jr
</code></pre><pre tabindex=0><code>// 创建远端分支的另一种方式
git checkout -b my-test  //在当前分支下创建my-test的本地分支分支
git push origin my-test  //将my-test分支推送到远程
git branch --set-upstream-to=origin/my-test //将本地分支my-test关联到远程分支my-test上   
git branch -a //查看远程分支 
</code></pre><h3 id=push所有分支>push所有分支<a hidden class=anchor aria-hidden=true href=#push所有分支>#</a></h3><pre tabindex=0><code>git push --all origin
</code></pre><h3 id=更新分支信息>更新分支信息<a hidden class=anchor aria-hidden=true href=#更新分支信息>#</a></h3><blockquote><p>远程版本库创建了一个分支后,本地创建远程追踪分支</p></blockquote><pre tabindex=0><code>git remote update
</code></pre><blockquote><p>在远程版本库上删除了某一分支,删除本地版本库上那些失效的远程追踪分支</p></blockquote><p>方法一：</p><pre tabindex=0><code>// -p, --prune    prune remotes after fetching
git remote update -p
</code></pre><p>方法二：</p><pre tabindex=0><code>// 查看哪些分支需要清理
git remote prune origin --dry-run
// 清理
git remote prune
</code></pre><blockquote><p>本地分支作为下游存在的话，还需要手动清理</p></blockquote><pre tabindex=0><code>git branch -d xx
</code></pre><h3 id=删除分支>删除分支<a hidden class=anchor aria-hidden=true href=#删除分支>#</a></h3><pre tabindex=0><code>git branch -d gte
git branch -D gte(强制删除)
</code></pre><h3 id=删除远程分支>删除远程分支<a hidden class=anchor aria-hidden=true href=#删除远程分支>#</a></h3><pre tabindex=0><code>git push origin --delete 分支名
</code></pre><h3 id=恢复删除的分支>恢复删除的分支<a hidden class=anchor aria-hidden=true href=#恢复删除的分支>#</a></h3><pre tabindex=0><code>git reflog(找到想要恢复的分支的散列值)
git branch local-test HEAD@{2}
</code></pre><h3 id=查看tag>查看tag<a hidden class=anchor aria-hidden=true href=#查看tag>#</a></h3><pre tabindex=0><code>git tag
</code></pre><h3 id=查看tag详细信息>查看tag详细信息<a hidden class=anchor aria-hidden=true href=#查看tag详细信息>#</a></h3><pre tabindex=0><code>git show v1.0
</code></pre><h3 id=添加tag>添加tag<a hidden class=anchor aria-hidden=true href=#添加tag>#</a></h3><pre tabindex=0><code>git tag v1.0
</code></pre><h3 id=添加带备注的tag>添加带备注的tag<a hidden class=anchor aria-hidden=true href=#添加带备注的tag>#</a></h3><pre tabindex=0><code>git tag -a v1.0 -m &#34;v1.0&#34;
</code></pre><h3 id=给指定的某个commit号加tag>给指定的某个commit号加tag<a hidden class=anchor aria-hidden=true href=#给指定的某个commit号加tag>#</a></h3><pre tabindex=0><code>git tag -a v1.0 9fceb02 -m &#34;v1.0&#34;
</code></pre><h3 id=将tag同步到远程服务器>将tag同步到远程服务器<a hidden class=anchor aria-hidden=true href=#将tag同步到远程服务器>#</a></h3><pre tabindex=0><code>git push origin v1.0
git push origin --tags //推送所有tag
</code></pre><h3 id=切换tag>切换tag<a hidden class=anchor aria-hidden=true href=#切换tag>#</a></h3><pre tabindex=0><code>git checkout v1.0
</code></pre><h3 id=获取远程版本>获取远程版本<a hidden class=anchor aria-hidden=true href=#获取远程版本>#</a></h3><pre tabindex=0><code>git fetch origin tag V1.0
</code></pre><h3 id=删除本地tag>删除本地tag<a hidden class=anchor aria-hidden=true href=#删除本地tag>#</a></h3><pre tabindex=0><code>git tag -d v1.0
</code></pre><h3 id=删除远端tag>删除远端tag<a hidden class=anchor aria-hidden=true href=#删除远端tag>#</a></h3><blockquote><p>推送的空的同名版本到线下,达到删除线上版本的目标</p></blockquote><pre tabindex=0><code>git tag push origin :refs/tags/v1.0
</code></pre><h3 id=查看状态>查看状态<a hidden class=anchor aria-hidden=true href=#查看状态>#</a></h3><pre tabindex=0><code>git status
</code></pre><h3 id=commit>commit<a hidden class=anchor aria-hidden=true href=#commit>#</a></h3><pre tabindex=0><code>//直接填写提交日志
git commit -m &#39;commit log&#39;
</code></pre><h3 id=修改commit>修改commit<a hidden class=anchor aria-hidden=true href=#修改commit>#</a></h3><pre tabindex=0><code>git commit --amend
</code></pre><h3 id=pull>pull<a hidden class=anchor aria-hidden=true href=#pull>#</a></h3><pre tabindex=0><code>git pull origin master
</code></pre><h5 id=pull-错误-you-asked-to-pull-from-the-remote-origin-but-did-not-specify-a-branch-because-this-is-not-the-default-configured-remote-for-your-current-branch-you-must-specify-a-branch-on-the-command-line>pull 错误 “You asked to pull from the remote &lsquo;origin&rsquo;, but did not specify a branch. Because this is not the default configured remote for your current branch, you must specify a branch on the command line.”<a hidden class=anchor aria-hidden=true href=#pull-错误-you-asked-to-pull-from-the-remote-origin-but-did-not-specify-a-branch-because-this-is-not-the-default-configured-remote-for-your-current-branch-you-must-specify-a-branch-on-the-command-line>#</a></h5><blockquote><p>参考：<a href=https://blog.csdn.net/forever_wind/article/details/37506389>Git远程分支和refs文件详解</a>
问题在于没有给当前分支配置merge的路径，git不知道去merge哪个分支。</p></blockquote><p>我们修改配置文件(.git/config)加入</p><pre tabindex=0><code>[branch &#34;wz-jr2&#34;]
	remote = origin
	merge = refs/heads/wz-jr2
</code></pre><p>这意味着每次fetch origin的时候更新所有remotes/origin的头指针到refs/heads/下面</p><h3 id=push>push<a hidden class=anchor aria-hidden=true href=#push>#</a></h3><pre tabindex=0><code>git push origin master
git push origin HEAD:refs/for/gte
//可提交到指定位置
git push //192.168.0.119/LocalShare/pengbo/adclient develop-post:develop-post
</code></pre><h3 id=回退git>回退git<a hidden class=anchor aria-hidden=true href=#回退git>#</a></h3><pre tabindex=0><code>// !!! Windows下CMD中^是特殊字符，要使用时必须用双引号包括 (git reset &lt;--soft||--mixed||--hard&gt; HEAD&#34;^&#34;)
// !!! 或者 git reset &lt;--soft||--mixed||--hard&gt; HEAD~1
git reset &lt;--soft||--mixed||--hard&gt; HEAD^ (回退到上一个版本) (HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100)
git reset &lt;--soft||--mixed||--hard&gt; xxxxxxxx (回退到指定版本)
</code></pre><h3 id=远程版本回退>远程版本回退<a hidden class=anchor aria-hidden=true href=#远程版本回退>#</a></h3><pre tabindex=0><code>git push origin HEAD --force #远程提交回退
</code></pre><h3 id=git回退到某一历史版本后再恢复到之前版本>git回退到某一历史版本后再恢复到之前版本<a hidden class=anchor aria-hidden=true href=#git回退到某一历史版本后再恢复到之前版本>#</a></h3><pre tabindex=0><code>git reset --hard xxx
git reflog (git log -g)
git reset --hard xxx
</code></pre><h3 id=your-branch-is-behind-originwz-jr-by-1-commit-and-can-be-fast-forwarded>Your branch is behind &lsquo;origin/wz-jr&rsquo; by 1 commit, and can be fast-forwarded.<a hidden class=anchor aria-hidden=true href=#your-branch-is-behind-originwz-jr-by-1-commit-and-can-be-fast-forwarded>#</a></h3><pre tabindex=0><code>is behind表示落后远程版本了，并且可以fast forwarded快速合并
使用git push origin wz-jr --force强制将代码推到服务器，--force使服务器不会拒绝这个更低版本的commit
</code></pre><h3 id=撤销修改>撤销修改<a hidden class=anchor aria-hidden=true href=#撤销修改>#</a></h3><pre tabindex=0><code>git checkout -- file (命令git checkout -- file意思就是，把文件在工作区的修改全部撤销，这里有两种情况：一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。总之，就是让这个文件回到最近一次git commit或git add时的状态。)
git reset HEAD file (把暂存区的修改撤销掉（unstage），重新放回工作区)
</code></pre><h3 id=回退指定文件到指定版本>回退指定文件到指定版本<a hidden class=anchor aria-hidden=true href=#回退指定文件到指定版本>#</a></h3><pre tabindex=0><code>git log /e/dev/adclient/app/src/main/AndroidManifest.xml
git reset a28887c24ed89938de7f769eb18b2555de790668 /e/dev/adclient/app/src/main/AndroidManifest.xml
git checkout -- /e/dev/adclient/app/src/main/AndroidManifest.xml
</code></pre><h3 id=重新提交-amend>重新提交 amend<a hidden class=anchor aria-hidden=true href=#重新提交-amend>#</a></h3><pre tabindex=0><code>git add .
git commit --amend( --no-edit)
// git push origin gte
// git push origin HEAD:refs/for/gte
// 如果已经push到git仓库,amend后直接push会生成新的记录，需要--force-with-lease
git push --force-with-lease origin master(安全的强制推送)
</code></pre><h3 id=暂存恢复-stash>暂存/恢复 stash<a hidden class=anchor aria-hidden=true href=#暂存恢复-stash>#</a></h3><pre tabindex=0><code>git stash(暂存)
git stash save &#34;&#34; (暂存)
git stash pop(apply last stash and remove it from the list)
git stash list()
git stash pop stash@{1}(取出指定的暂存,取出后会将对应的stash id 从stash list里删除)
git stash apply stash@{1}(取出指定的暂存，取出后会继续保存stash id)
git stash drop stash@{1}(删除指定的暂存)
git stash clear(将栈清空)
</code></pre><h3 id=cherry-pick>cherry-pick<a hidden class=anchor aria-hidden=true href=#cherry-pick>#</a></h3><pre tabindex=0><code>// 将另一个分支上的一个提交合并到本分支
git cherry-pick xxxx(commit id)

// 合并多条
// ==注意，不包含xxx1==
git cherry-pick xxx1..xxx10
// ==包含xxx1==
git cherry-pick xxx1^..xxx10

// 继续合并 || 取消合并
git cherry-pick --continue || --abort
</code></pre><h3 id=revert>revert<a hidden class=anchor aria-hidden=true href=#revert>#</a></h3><pre tabindex=0><code>git revert xxx
git commit
// git push origin gte
git push origin HEAD:refs/for/sdpost_dev
</code></pre><h3 id=fetchrebase>fetch/rebase<a hidden class=anchor aria-hidden=true href=#fetchrebase>#</a></h3><pre tabindex=0><code>首先用git fetch返回服务器上的代码
用git rebase合并
    &gt; 合并冲突
    &gt; git add .
    &gt; 用git rebase --continue继续没完成的合并
    &gt; 重新提交git commit --amend
最后就可以用git push更新到服务器上去。
</code></pre><pre tabindex=0><code>git pull --rebase origin develop-post(git pull --rebase = git fetch + git rebase)
</code></pre><h3 id=取消本次rebase>取消本次rebase<a hidden class=anchor aria-hidden=true href=#取消本次rebase>#</a></h3><pre tabindex=0><code>git rebase --abort
</code></pre><h3 id=git-bisect-查找哪一次代码提交引入了错误>git bisect 查找哪一次代码提交引入了错误<a hidden class=anchor aria-hidden=true href=#git-bisect-查找哪一次代码提交引入了错误>#</a></h3><blockquote><p>参考：<a href=http://www.ruanyifeng.com/blog/2018/12/git-bisect.html>git bisect 命令教程</a></p></blockquote><blockquote><p>它的原理很简单，就是将代码提交的历史，按照两分法不断缩小定位。所谓"两分法"，就是将代码历史一分为二，确定问题出在前半部分，还是后半部分，不断执行这个过程，直到范围缩小到某一次代码提交。</p></blockquote><pre tabindex=0><code>// &#34;终点&#34;是最近的提交，&#34;起点&#34;是更久以前的提交
git bisect start [终点] [起点]

eg:
git bisect start 100 1

执行上面的命令以后，代码库就会切换到这段范围正当中的那一次提交，即50

如果没有问题，那么1-50之间是正常的，执行
git bisect good

那么Git就自动切换到后半段的中点，即50-100，即75

如果出现问题，那么50-75之间有问题，执行
git bisect bad

Git就自动切换到第50次到第75次的中点（第63次提交）

重复执行上述操作，直到成功找到出问题的那一次提交为止，Git 会给出如下的提示

xxx is the first bad commit

查出问题后，执行
git bisect reset

退出查错

现在就可以开始修复错误了。
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.wmszhe.com/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://blog.wmszhe.com/post/2019-06-18-flutter-desktop/><span class=title>« Prev</span><br><span>FLutter编译桌面端app</span></a>
<a class=next href=https://blog.wmszhe.com/post/2019-06-15-hello-everyone/><span class=title>Next »</span><br><span>Hello EveryOne</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://blog.wmszhe.com/>wmszhe</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>